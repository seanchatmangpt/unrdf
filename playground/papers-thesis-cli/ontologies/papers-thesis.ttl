@prefix pt: <http://papers-thesis.org/ontology#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .

# =============================================================================
# Ontology Metadata
# =============================================================================

<http://papers-thesis.org/ontology> a owl:Ontology ;
    dc:title "Papers-Thesis Ontology" ;
    dc:description "RDF ontology for academic papers and thesis documents" ;
    dc:creator "UNRDF Team" ;
    dc:created "2025-01-01"^^xsd:date ;
    dc:version "1.0.0" ;
    owl:versionInfo "1.0.0" .

# =============================================================================
# Core Classes
# =============================================================================

pt:AcademicWork a rdfs:Class, owl:Class ;
    rdfs:label "Academic Work" ;
    rdfs:comment "Base class for all academic documents including papers and theses" ;
    skos:definition "An academic work is any scholarly document produced for research or educational purposes" .

pt:Paper a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:AcademicWork ;
    rdfs:label "Research Paper" ;
    rdfs:comment "A research paper presenting findings, arguments, or contributions" ;
    skos:example "Conference paper, journal article, workshop paper" .

pt:Thesis a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:AcademicWork ;
    rdfs:label "Thesis" ;
    rdfs:comment "A formal academic thesis document (PhD, Master's, etc.)" ;
    skos:example "PhD dissertation, Master's thesis, undergraduate thesis" .

pt:Section a rdfs:Class, owl:Class ;
    rdfs:label "Document Section" ;
    rdfs:comment "A section or chapter within an academic work" .

pt:Author a rdfs:Class, owl:Class ;
    rdfs:subClassOf foaf:Person ;
    rdfs:label "Author" ;
    rdfs:comment "An author of an academic work" .

pt:Schedule a rdfs:Class, owl:Class ;
    rdfs:label "Schedule" ;
    rdfs:comment "A schedule for thesis milestones and defense" .

pt:Milestone a rdfs:Class, owl:Class ;
    rdfs:label "Milestone" ;
    rdfs:comment "A milestone in the thesis schedule" .

pt:Configuration a rdfs:Class, owl:Class ;
    rdfs:label "Configuration" ;
    rdfs:comment "CLI configuration settings" .

# =============================================================================
# Paper Family Classes (Subclasses of Paper)
# =============================================================================

pt:IMRADPaper a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Paper ;
    rdfs:label "IMRAD Paper" ;
    rdfs:comment "Paper following Introduction, Methods, Results, and Discussion structure" ;
    pt:hasSectionStructure (
        [ pt:sectionName "Introduction" ; pt:sectionOrder 1 ]
        [ pt:sectionName "Methods" ; pt:sectionOrder 2 ]
        [ pt:sectionName "Results" ; pt:sectionOrder 3 ]
        [ pt:sectionName "Discussion" ; pt:sectionOrder 4 ]
        [ pt:sectionName "Conclusion" ; pt:sectionOrder 5 ]
    ) .

pt:DSRPaper a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Paper ;
    rdfs:label "Design Science Research Paper" ;
    rdfs:comment "Paper following Design Science Research methodology" ;
    pt:hasSectionStructure (
        [ pt:sectionName "Problem Identification" ; pt:sectionOrder 1 ]
        [ pt:sectionName "Objectives" ; pt:sectionOrder 2 ]
        [ pt:sectionName "Design & Development" ; pt:sectionOrder 3 ]
        [ pt:sectionName "Demonstration" ; pt:sectionOrder 4 ]
        [ pt:sectionName "Evaluation" ; pt:sectionOrder 5 ]
        [ pt:sectionName "Communication" ; pt:sectionOrder 6 ]
    ) .

pt:ArgumentPaper a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Paper ;
    rdfs:label "Argument-based Paper" ;
    rdfs:comment "Paper structured around thesis and argumentation" ;
    pt:hasSectionStructure (
        [ pt:sectionName "Thesis Statement" ; pt:sectionOrder 1 ]
        [ pt:sectionName "Premises" ; pt:sectionOrder 2 ]
        [ pt:sectionName "Arguments" ; pt:sectionOrder 3 ]
        [ pt:sectionName "Counter-arguments" ; pt:sectionOrder 4 ]
        [ pt:sectionName "Conclusion" ; pt:sectionOrder 5 ]
    ) .

pt:ContributionPaper a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Paper ;
    rdfs:label "Contribution Paper" ;
    rdfs:comment "Paper focused on presenting research contributions" ;
    pt:hasSectionStructure (
        [ pt:sectionName "Motivation" ; pt:sectionOrder 1 ]
        [ pt:sectionName "Background" ; pt:sectionOrder 2 ]
        [ pt:sectionName "Contribution" ; pt:sectionOrder 3 ]
        [ pt:sectionName "Validation" ; pt:sectionOrder 4 ]
        [ pt:sectionName "Related Work" ; pt:sectionOrder 5 ]
        [ pt:sectionName "Conclusion" ; pt:sectionOrder 6 ]
    ) .

# =============================================================================
# Thesis Type Classes (Subclasses of Thesis)
# =============================================================================

pt:Monograph a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Thesis ;
    rdfs:label "Monograph Thesis" ;
    rdfs:comment "Traditional monograph-style thesis" ;
    pt:hasChapterStructure (
        [ pt:chapterName "Introduction" ; pt:chapterOrder 1 ]
        [ pt:chapterName "Literature Review" ; pt:chapterOrder 2 ]
        [ pt:chapterName "Methodology" ; pt:chapterOrder 3 ]
        [ pt:chapterName "Results" ; pt:chapterOrder 4 ]
        [ pt:chapterName "Discussion" ; pt:chapterOrder 5 ]
        [ pt:chapterName "Conclusion" ; pt:chapterOrder 6 ]
    ) .

pt:NarrativeThesis a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Thesis ;
    rdfs:label "Narrative Thesis" ;
    rdfs:comment "Narrative-style thesis structure" ;
    pt:hasChapterStructure (
        [ pt:chapterName "Prologue" ; pt:chapterOrder 1 ]
        [ pt:chapterName "Background" ; pt:chapterOrder 2 ]
        [ pt:chapterName "Story" ; pt:chapterOrder 3 ]
        [ pt:chapterName "Analysis" ; pt:chapterOrder 4 ]
        [ pt:chapterName "Epilogue" ; pt:chapterOrder 5 ]
    ) .

pt:ContributionThesis a rdfs:Class, owl:Class ;
    rdfs:subClassOf pt:Thesis ;
    rdfs:label "Contribution-based Thesis" ;
    rdfs:comment "Publication-based thesis with multiple papers" ;
    pt:hasChapterStructure (
        [ pt:chapterName "Introduction" ; pt:chapterOrder 1 ]
        [ pt:chapterName "Paper 1" ; pt:chapterOrder 2 ]
        [ pt:chapterName "Paper 2" ; pt:chapterOrder 3 ]
        [ pt:chapterName "Paper 3" ; pt:chapterOrder 4 ]
        [ pt:chapterName "Synthesis" ; pt:chapterOrder 5 ]
        [ pt:chapterName "Conclusion" ; pt:chapterOrder 6 ]
    ) .

# =============================================================================
# Academic Work Properties
# =============================================================================

pt:hasTitle a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range xsd:string ;
    rdfs:label "has title" ;
    rdfs:comment "The title of the academic work" .

pt:hasAbstract a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range xsd:string ;
    rdfs:label "has abstract" ;
    rdfs:comment "The abstract of the academic work" .

pt:hasSection a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range pt:Section ;
    rdfs:label "has section" ;
    rdfs:comment "Links an academic work to its sections" .

pt:hasAuthor a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range pt:Author ;
    rdfs:label "has author" ;
    rdfs:comment "Links an academic work to its authors" .

pt:createdAt a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range xsd:dateTime ;
    rdfs:label "created at" ;
    rdfs:comment "The creation timestamp of the academic work" .

pt:lastModified a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range xsd:dateTime ;
    rdfs:label "last modified" ;
    rdfs:comment "The last modification timestamp" .

pt:hasKeyword a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:AcademicWork ;
    rdfs:range xsd:string ;
    rdfs:label "has keyword" ;
    rdfs:comment "A keyword associated with the work" .

# =============================================================================
# Paper Properties
# =============================================================================

pt:paperFamily a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Paper ;
    rdfs:range xsd:string ;
    rdfs:label "paper family" ;
    rdfs:comment "The structural family of the paper (imrad, dsr, argument, contribution)" .

pt:venue a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Paper ;
    rdfs:range xsd:string ;
    rdfs:label "venue" ;
    rdfs:comment "Publication venue (conference, journal, workshop)" .

pt:doi a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Paper ;
    rdfs:range xsd:string ;
    rdfs:label "DOI" ;
    rdfs:comment "Digital Object Identifier" .

# =============================================================================
# Thesis Properties
# =============================================================================

pt:thesisType a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range xsd:string ;
    rdfs:label "thesis type" ;
    rdfs:comment "The type of thesis (monograph, narrative, contribution)" .

pt:hasSchedule a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range pt:Schedule ;
    rdfs:label "has schedule" ;
    rdfs:comment "Links a thesis to its schedule" .

pt:institution a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range xsd:string ;
    rdfs:label "institution" ;
    rdfs:comment "The institution granting the degree" .

pt:department a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range xsd:string ;
    rdfs:label "department" ;
    rdfs:comment "The academic department" .

pt:hasSupervisor a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range pt:Author ;
    rdfs:label "has supervisor" ;
    rdfs:comment "Links a thesis to its supervisor" .

pt:degree a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Thesis ;
    rdfs:range xsd:string ;
    rdfs:label "degree" ;
    rdfs:comment "The degree type (PhD, Master's, Bachelor's)" .

# =============================================================================
# Schedule Properties
# =============================================================================

pt:defenseDate a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Schedule ;
    rdfs:range xsd:date ;
    rdfs:label "defense date" ;
    rdfs:comment "The scheduled thesis defense date" .

pt:hasMilestone a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:Schedule ;
    rdfs:range pt:Milestone ;
    rdfs:label "has milestone" ;
    rdfs:comment "Links a schedule to its milestones" .

pt:milestoneName a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Milestone ;
    rdfs:range xsd:string ;
    rdfs:label "milestone name" ;
    rdfs:comment "The name of the milestone" .

pt:milestoneDate a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Milestone ;
    rdfs:range xsd:date ;
    rdfs:label "milestone date" ;
    rdfs:comment "The scheduled date for the milestone" .

pt:milestoneStatus a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Milestone ;
    rdfs:range xsd:string ;
    rdfs:label "milestone status" ;
    rdfs:comment "Status: pending, in-progress, completed" .

# =============================================================================
# Section Properties
# =============================================================================

pt:sectionHeading a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Section ;
    rdfs:range xsd:string ;
    rdfs:label "section heading" ;
    rdfs:comment "The heading/title of the section" .

pt:sectionContent a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Section ;
    rdfs:range xsd:string ;
    rdfs:label "section content" ;
    rdfs:comment "The content of the section" .

pt:sectionOrder a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Section ;
    rdfs:range xsd:integer ;
    rdfs:label "section order" ;
    rdfs:comment "The order of the section within the document" .

pt:parentSection a rdf:Property, owl:ObjectProperty ;
    rdfs:domain pt:Section ;
    rdfs:range pt:Section ;
    rdfs:label "parent section" ;
    rdfs:comment "Links a subsection to its parent section" .

pt:sectionLevel a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Section ;
    rdfs:range xsd:integer ;
    rdfs:label "section level" ;
    rdfs:comment "The nesting level (1=chapter, 2=section, 3=subsection)" .

# =============================================================================
# Author Properties
# =============================================================================

pt:authorName a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Author ;
    rdfs:range xsd:string ;
    rdfs:label "author name" ;
    rdfs:comment "The full name of the author" .

pt:authorAffiliation a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Author ;
    rdfs:range xsd:string ;
    rdfs:label "author affiliation" ;
    rdfs:comment "The institutional affiliation of the author" .

pt:authorRole a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Author ;
    rdfs:range xsd:string ;
    rdfs:label "author role" ;
    rdfs:comment "The role: primary, co-author, supervisor, etc." .

pt:authorEmail a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Author ;
    rdfs:range xsd:string ;
    rdfs:label "author email" ;
    rdfs:comment "The email address of the author" .

pt:orcid a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Author ;
    rdfs:range xsd:string ;
    rdfs:label "ORCID" ;
    rdfs:comment "The ORCID identifier of the author" .

# =============================================================================
# Configuration Properties
# =============================================================================

pt:configKey a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Configuration ;
    rdfs:range xsd:string ;
    rdfs:label "config key" ;
    rdfs:comment "The configuration key" .

pt:configValue a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Configuration ;
    rdfs:range xsd:string ;
    rdfs:label "config value" ;
    rdfs:comment "The configuration value" .

pt:configType a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:Configuration ;
    rdfs:range xsd:string ;
    rdfs:label "config type" ;
    rdfs:comment "The data type of the configuration value" .

# =============================================================================
# SPARQL Named Queries (Stored as RDF)
# =============================================================================

pt:NamedQuery a rdfs:Class, owl:Class ;
    rdfs:label "Named Query" ;
    rdfs:comment "A named SPARQL query stored in the knowledge graph" .

pt:queryName a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:NamedQuery ;
    rdfs:range xsd:string ;
    rdfs:label "query name" .

pt:queryBody a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:NamedQuery ;
    rdfs:range xsd:string ;
    rdfs:label "query body" .

pt:queryDescription a rdf:Property, owl:DatatypeProperty ;
    rdfs:domain pt:NamedQuery ;
    rdfs:range xsd:string ;
    rdfs:label "query description" .

# =============================================================================
# Built-in Named Queries
# =============================================================================

pt:findPapersByFamily a pt:NamedQuery ;
    pt:queryName "Find Papers by Family" ;
    pt:queryDescription "Find all papers of a specific family" ;
    pt:queryBody """
        PREFIX pt: <http://papers-thesis.org/ontology#>
        SELECT ?paper ?title ?family
        WHERE {
            ?paper a pt:Paper ;
                   pt:hasTitle ?title ;
                   pt:paperFamily ?family .
            FILTER(?family = $family)
        }
    """ .

pt:listAllTheses a pt:NamedQuery ;
    pt:queryName "List All Theses" ;
    pt:queryDescription "List all theses with schedule information" ;
    pt:queryBody """
        PREFIX pt: <http://papers-thesis.org/ontology#>
        SELECT ?thesis ?title ?type ?defenseDate
        WHERE {
            ?thesis a pt:Thesis ;
                    pt:hasTitle ?title ;
                    pt:thesisType ?type .
            OPTIONAL {
                ?thesis pt:hasSchedule ?schedule .
                ?schedule pt:defenseDate ?defenseDate .
            }
        }
        ORDER BY ?defenseDate
    """ .

pt:ontologyIntrospection a pt:NamedQuery ;
    pt:queryName "Ontology Introspection" ;
    pt:queryDescription "List all classes and properties in the ontology" ;
    pt:queryBody """
        PREFIX pt: <http://papers-thesis.org/ontology#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT ?entity ?type ?label ?comment
        WHERE {
            {
                ?entity a rdfs:Class ;
                        rdfs:label ?label .
                OPTIONAL { ?entity rdfs:comment ?comment }
                BIND("Class" AS ?type)
            }
            UNION
            {
                ?entity a rdf:Property ;
                        rdfs:label ?label .
                OPTIONAL { ?entity rdfs:comment ?comment }
                BIND("Property" AS ?type)
            }
        }
        ORDER BY ?type ?label
    """ .

pt:authorStatistics a pt:NamedQuery ;
    pt:queryName "Author Statistics" ;
    pt:queryDescription "Get statistics about authors and their works" ;
    pt:queryBody """
        PREFIX pt: <http://papers-thesis.org/ontology#>
        SELECT ?authorName (COUNT(?work) AS ?workCount)
        WHERE {
            ?work pt:hasAuthor ?author .
            ?author pt:authorName ?authorName .
        }
        GROUP BY ?authorName
        ORDER BY DESC(?workCount)
    """ .
