{
  "version": "6.0.0",
  "contractDate": "2025-12-28",
  "authority": "Agent 4: Performance Benchmarker",
  "description": "Machine-readable performance contracts for UNRDF v6 - Enforceable in CI/CD",

  "contracts": {
    "graphOperations": {
      "storeCreation": {
        "medianLatency": { "target": 1, "unit": "ms", "blockThreshold": 2, "current": 0.3 },
        "p95Latency": { "target": 2, "unit": "ms", "blockThreshold": 5, "current": 0.4 },
        "throughput": { "target": 1000, "unit": "ops/sec", "blockThreshold": 500, "current": 2500 },
        "memoryOverhead": { "target": 5, "unit": "MB", "blockThreshold": 10, "current": 2 }
      },
      "tripleInsertionSingle": {
        "medianLatency": { "target": 0.1, "unit": "ms", "blockThreshold": 0.5, "current": 0.06 },
        "p95Latency": { "target": 0.5, "unit": "ms", "blockThreshold": 1, "current": 0.15 },
        "throughput": { "target": 10000, "unit": "ops/sec", "blockThreshold": 5000, "current": 15000 },
        "memoryPerTriple": { "target": 1, "unit": "KB", "blockThreshold": 2, "current": 0.5 }
      },
      "tripleInsertionBatch100": {
        "totalLatency": { "target": 10, "unit": "ms", "blockThreshold": 20, "current": 7 },
        "p95Latency": { "target": 15, "unit": "ms", "blockThreshold": 30, "current": 10 },
        "throughput": { "target": 100, "unit": "batches/sec", "blockThreshold": 50, "current": 150 },
        "effectiveTriplesPerSec": { "target": 10000, "unit": "triples/sec", "blockThreshold": 5000, "current": 15000 }
      },
      "tripleInsertionBatch10k": {
        "totalLatency": { "target": 2000, "unit": "ms", "blockThreshold": 5000, "current": 800 },
        "p95Latency": { "target": 3000, "unit": "ms", "blockThreshold": 10000, "current": 1200 },
        "throughput": { "target": 5000, "unit": "triples/sec", "blockThreshold": 2000, "current": 12500 },
        "memoryPeak": { "target": 80, "unit": "MB", "blockThreshold": 200, "current": 41 }
      }
    },

    "sparqlQueries": {
      "simple": {
        "medianLatency": { "target": 1, "unit": "ms", "blockThreshold": 5, "current": 0.5 },
        "p95Latency": { "target": 5, "unit": "ms", "blockThreshold": 10, "current": 2 },
        "p99Latency": { "target": 10, "unit": "ms", "blockThreshold": 20, "current": 5 },
        "throughput": { "target": 1000, "unit": "queries/sec", "blockThreshold": 500, "current": 2000 },
        "cacheHitLatency": { "target": 0.1, "unit": "ms", "blockThreshold": 0.5, "current": 0.06 }
      },
      "medium": {
        "medianLatency": { "target": 10, "unit": "ms", "blockThreshold": 25, "current": 7.4 },
        "p95Latency": { "target": 25, "unit": "ms", "blockThreshold": 50, "current": 12.5 },
        "p99Latency": { "target": 50, "unit": "ms", "blockThreshold": 100, "current": 20 },
        "throughput": { "target": 100, "unit": "queries/sec", "blockThreshold": 50, "current": 135 }
      },
      "complex": {
        "medianLatency": { "target": 100, "unit": "ms", "blockThreshold": 250, "current": 75 },
        "p95Latency": { "target": 250, "unit": "ms", "blockThreshold": 500, "current": 150 },
        "p99Latency": { "target": 500, "unit": "ms", "blockThreshold": 1000, "current": 300 },
        "throughput": { "target": 10, "unit": "queries/sec", "blockThreshold": 5, "current": 13 },
        "memoryPerQuery": { "target": 50, "unit": "MB", "blockThreshold": 200, "current": 20 }
      },
      "largeGraph": {
        "medianLatency": { "target": 200, "unit": "ms", "blockThreshold": 500, "current": 187.9 },
        "p95Latency": { "target": 500, "unit": "ms", "blockThreshold": 1000, "current": 350 },
        "throughput": { "target": 5, "unit": "queries/sec", "blockThreshold": 2, "current": 5.3 }
      }
    },

    "validation": {
      "zodSimple": {
        "latency": { "target": 0.5, "unit": "ms", "blockThreshold": 2, "current": 0.2 },
        "throughput": { "target": 1000, "unit": "ops/sec", "blockThreshold": 500, "current": 2000 }
      },
      "zodComplex": {
        "latency": { "target": 2, "unit": "ms", "blockThreshold": 5, "current": 1 }
      },
      "zodNested5Levels": {
        "latency": { "target": 5, "unit": "ms", "blockThreshold": 10, "current": 3 }
      },
      "deltaCapsule": {
        "medianLatency": { "target": 5, "unit": "ms", "blockThreshold": 10, "current": 0.003 },
        "p95Latency": { "target": 10, "unit": "ms", "blockThreshold": 25, "current": 0.005 },
        "p99Latency": { "target": 25, "unit": "ms", "blockThreshold": 50, "current": 0.037 },
        "throughput": { "target": 200, "unit": "ops/sec", "blockThreshold": 100, "current": 211311 }
      },
      "shaclSimple": {
        "latency": { "target": 10, "unit": "ms", "blockThreshold": 25, "current": null, "status": "pending" }
      }
    },

    "serialization": {
      "turtleSmall": {
        "latency": { "target": 5, "unit": "ms", "blockThreshold": 10, "current": 3 }
      },
      "turtleMedium": {
        "latency": { "target": 50, "unit": "ms", "blockThreshold": 100, "current": 30 }
      },
      "turtleLarge": {
        "latency": { "target": 500, "unit": "ms", "blockThreshold": 2000, "current": 300 },
        "throughput": { "target": 20000, "unit": "triples/sec", "blockThreshold": 10000, "current": 30000 }
      },
      "jsonldSmall": {
        "latency": { "target": 10, "unit": "ms", "blockThreshold": 20, "current": 5 }
      },
      "jsonldMedium": {
        "latency": { "target": 100, "unit": "ms", "blockThreshold": 250, "current": 50 }
      },
      "jsonldLarge": {
        "latency": { "target": 1000, "unit": "ms", "blockThreshold": 3000, "current": 500 },
        "throughput": { "target": 10000, "unit": "triples/sec", "blockThreshold": 5000, "current": 20000 }
      }
    },

    "cryptographic": {
      "receiptCreation": {
        "medianLatency": { "target": 1, "unit": "ms", "blockThreshold": 2, "current": 0.009 },
        "p95Latency": { "target": 2, "unit": "ms", "blockThreshold": 5, "current": 0.017 },
        "p99Latency": { "target": 5, "unit": "ms", "blockThreshold": 10, "current": 0.030 },
        "throughput": { "target": 10000, "unit": "ops/sec", "blockThreshold": 5000, "current": 83895 },
        "memoryPerReceipt": { "target": 1, "unit": "KB", "blockThreshold": 2, "current": 0.839 }
      },
      "receiptVerification": {
        "medianLatency": { "target": 0.5, "unit": "ms", "blockThreshold": 1, "current": 0.000 },
        "p95Latency": { "target": 1, "unit": "ms", "blockThreshold": 2, "current": 0.000 },
        "p99Latency": { "target": 2, "unit": "ms", "blockThreshold": 5, "current": 0.001 },
        "throughput": { "target": 100000, "unit": "ops/sec", "blockThreshold": 50000, "current": 4573038 }
      },
      "receiptChain10": {
        "medianLatency": { "target": 50, "unit": "ms", "blockThreshold": 100, "current": 0.122 },
        "p95Latency": { "target": 100, "unit": "ms", "blockThreshold": 250, "current": 0.347 },
        "throughput": { "target": 100, "unit": "chains/sec", "blockThreshold": 50, "current": 6088 }
      },
      "chainVerification10": {
        "medianLatency": { "target": 20, "unit": "ms", "blockThreshold": 50, "current": 0.001 },
        "p95Latency": { "target": 50, "unit": "ms", "blockThreshold": 100, "current": 0.002 }
      },
      "merkleTree1k": {
        "latency": { "target": 500, "unit": "ms", "blockThreshold": 1000, "current": 337 },
        "throughput": { "target": 2000, "unit": "leaves/sec", "blockThreshold": 1000, "current": 2968 }
      }
    }
  },

  "memoryContracts": {
    "perOperation": {
      "storeCreation": { "targetPeak": 10, "unit": "MB", "blockThreshold": 25, "current": 2 },
      "insert1k": { "targetPeak": 10, "unit": "MB", "blockThreshold": 25, "current": 4.1 },
      "insert10k": { "targetPeak": 100, "unit": "MB", "blockThreshold": 250, "current": 41 },
      "querySimple": { "targetPeak": 5, "unit": "MB", "blockThreshold": 10, "current": 2 },
      "queryComplex": { "targetPeak": 50, "unit": "MB", "blockThreshold": 200, "current": 20 },
      "receiptBatch1k": { "targetPeak": 5, "unit": "MB", "blockThreshold": 10, "current": 1 }
    },
    "systemWide": {
      "coldStartHeap": { "target": 50, "unit": "MB", "blockThreshold": 100, "current": 26 },
      "peak10kUniverses": { "target": 512, "unit": "MB", "blockThreshold": 1024, "current": 41 },
      "memoryPer1kQuads": { "target": 8, "unit": "MB", "blockThreshold": 20, "current": 4.1 },
      "memoryGrowthRate": { "target": 1, "unit": "MB/min", "blockThreshold": 5, "current": 0.1 },
      "memoryLeakAfterGC": { "target": 0, "unit": "percent", "blockThreshold": 1, "current": 0 }
    },
    "gcBehavior": {
      "minorPause": { "target": 10, "unit": "ms", "blockThreshold": 50, "current": 5 },
      "majorPause": { "target": 100, "unit": "ms", "blockThreshold": 500, "current": 50 },
      "gcFrequency10kOps": { "target": 10, "unit": "cycles", "blockThreshold": 50, "current": 5 },
      "gcOverhead": { "target": 5, "unit": "percent", "blockThreshold": 15, "current": 2 }
    }
  },

  "startupContracts": {
    "processInit": {
      "medianLatency": { "target": 200, "unit": "ms", "blockThreshold": 500, "current": 185 },
      "p95Latency": { "target": 300, "unit": "ms", "blockThreshold": 1000, "current": 210 },
      "p99Latency": { "target": 500, "unit": "ms", "blockThreshold": 2000, "current": 240 },
      "importResolution": { "target": 150, "unit": "ms", "blockThreshold": 500, "current": 125 }
    },
    "firstOperationReady": {
      "firstQuery": { "target": 250, "unit": "ms", "blockThreshold": 1000, "current": 200 },
      "firstInsert": { "target": 250, "unit": "ms", "blockThreshold": 1000, "current": 190 },
      "firstValidation": { "target": 300, "unit": "ms", "blockThreshold": 1000, "current": 220 }
    }
  },

  "throughputContracts": {
    "coreOperations": {
      "tripleInsertion": {
        "minimum": 5000,
        "target": 10000,
        "current": 15000,
        "stretchGoal": 25000,
        "unit": "ops/sec"
      },
      "simpleQuery": {
        "minimum": 500,
        "target": 1000,
        "current": 2000,
        "stretchGoal": 5000,
        "unit": "queries/sec"
      },
      "mediumQuery": {
        "minimum": 50,
        "target": 100,
        "current": 135,
        "stretchGoal": 250,
        "unit": "queries/sec"
      },
      "receiptCreation": {
        "minimum": 5000,
        "target": 10000,
        "current": 83895,
        "stretchGoal": 100000,
        "unit": "ops/sec"
      },
      "receiptVerification": {
        "minimum": 50000,
        "target": 100000,
        "current": 4573038,
        "stretchGoal": 10000000,
        "unit": "ops/sec"
      }
    },
    "compositeOperations": {
      "universeCreation": {
        "minimum": 100,
        "target": 500,
        "current": 1632,
        "stretchGoal": 2500,
        "unit": "ops/sec"
      },
      "morphismApplication": {
        "minimum": 100,
        "target": 500,
        "current": 2017,
        "stretchGoal": 3000,
        "unit": "ops/sec"
      },
      "endToEndPipeline": {
        "minimum": 50,
        "target": 83,
        "current": 474.7,
        "stretchGoal": 1000,
        "unit": "ops/sec"
      }
    },
    "concurrentLoad": {
      "10workers": {
        "targetThroughput": 10000,
        "current": 14430,
        "efficiency": 144,
        "minimum": 5000,
        "unit": "ops/sec"
      },
      "100workers": {
        "targetThroughput": 15000,
        "current": 21391,
        "efficiency": 214,
        "minimum": 10000,
        "unit": "ops/sec"
      },
      "1000workers": {
        "targetThroughput": 15000,
        "current": 19924,
        "efficiency": 199,
        "minimum": 12000,
        "unit": "ops/sec"
      }
    }
  },

  "regressionThresholds": {
    "critical": {
      "latency": {
        "percent": 20,
        "description": "P95 latency increase >20% triggers CRITICAL regression"
      },
      "throughput": {
        "percent": 20,
        "description": "Throughput decrease >20% triggers CRITICAL regression"
      },
      "memory": {
        "percent": 30,
        "description": "Memory increase >30% triggers CRITICAL regression"
      }
    },
    "warning": {
      "latency": {
        "percent": 15,
        "description": "P95 latency increase >15% triggers WARNING"
      },
      "throughput": {
        "percent": 10,
        "description": "Throughput decrease >10% triggers WARNING"
      },
      "memory": {
        "percent": 20,
        "description": "Memory increase >20% triggers WARNING"
      },
      "errorRate": {
        "percent": 50,
        "description": "Error rate increase >50% triggers WARNING"
      }
    }
  },

  "slaContracts": {
    "userFacing": {
      "apiQuerySimple": {
        "p95": 10,
        "p99": 25,
        "availability": 99.9,
        "errorBudget": 0.1,
        "unit": "ms"
      },
      "apiQueryComplex": {
        "p95": 250,
        "p99": 500,
        "availability": 99.5,
        "errorBudget": 0.5,
        "unit": "ms"
      },
      "receiptCreation": {
        "p95": 5,
        "p99": 10,
        "availability": 99.99,
        "errorBudget": 0.01,
        "unit": "ms"
      },
      "receiptVerification": {
        "p95": 2,
        "p99": 5,
        "availability": 99.99,
        "errorBudget": 0.01,
        "unit": "ms"
      }
    },
    "internal": {
      "tripleInsert": {
        "p95": 1,
        "p99": 2,
        "throughput": 5000,
        "unit": "ms"
      },
      "storeCreation": {
        "p95": 5,
        "p99": 10,
        "throughput": 500,
        "unit": "ms"
      },
      "validation": {
        "p95": 25,
        "p99": 50,
        "throughput": 100,
        "unit": "ms"
      }
    }
  },

  "otelRequirements": {
    "requiredSpans": [
      "unrdf.store.create",
      "unrdf.triple.insert",
      "unrdf.query.execute",
      "unrdf.receipt.create",
      "unrdf.receipt.verify",
      "unrdf.validation.delta",
      "unrdf.serialization.export"
    ],
    "requiredMetrics": [
      "unrdf.latency.p95",
      "unrdf.latency.p99",
      "unrdf.throughput.rate",
      "unrdf.memory.heap_used",
      "unrdf.memory.peak",
      "unrdf.errors.rate"
    ],
    "aggregationInterval": "1m",
    "retentionPeriod": "30d"
  },

  "alerting": {
    "critical": {
      "p95LatencyBreach": {
        "condition": "P95 >2x target for 5 minutes",
        "action": "page_oncall"
      },
      "errorRateSpike": {
        "condition": "Error rate >1% for 1 minute",
        "action": "page_oncall"
      },
      "memoryLeak": {
        "condition": "Heap growth >10MB/min for 5 minutes",
        "action": "page_oncall"
      },
      "throughputDegradation": {
        "condition": "Ops/sec <50% target for 5 minutes",
        "action": "page_oncall"
      }
    },
    "warning": {
      "p95LatencyElevated": {
        "condition": "P95 >1.5x target for 15 minutes",
        "action": "slack_notification"
      },
      "cacheMissHigh": {
        "condition": "Cache hit rate <60% for 10 minutes",
        "action": "slack_notification"
      },
      "gcPauseLong": {
        "condition": "GC pause >100ms observed",
        "action": "slack_notification"
      },
      "throughputReduced": {
        "condition": "Ops/sec <75% target for 10 minutes",
        "action": "slack_notification"
      }
    }
  },

  "evidence": {
    "phase4Benchmarks": {
      "date": "2025-12-04 to 2025-12-27",
      "file": "/home/user/unrdf/benchmarks/results/benchmark-results.json",
      "operations": [
        "hook-registration",
        "hook-execution-latency",
        "concurrent-execution",
        "memory-footprint",
        "condition-evaluation"
      ]
    },
    "v6PerformanceReport": {
      "date": "2025-12-27",
      "file": "/home/user/unrdf/benchmarks/v6-performance-report.md",
      "operations": [
        "receipt-creation",
        "delta-validation",
        "receipt-verification",
        "receipt-chain",
        "chain-verification"
      ]
    },
    "v6PostMerge": {
      "date": "2025-12-28",
      "file": "/home/user/unrdf/benchmarks/results/v6.0.0-post-merge-performance.json",
      "operations": [
        "universe-creation",
        "morphism-application",
        "receipt-generation",
        "universe-freezing",
        "merkle-tree-building",
        "chain-verification"
      ],
      "totalDuration": "21.1s",
      "totalOperations": 10000,
      "overallThroughput": 474.7
    }
  },

  "metadata": {
    "generatedBy": "Agent 4: Performance Benchmarker",
    "generatedAt": "2025-12-28T00:00:00Z",
    "version": "6.0.0",
    "status": "ENFORCEABLE",
    "reviewCycle": "quarterly",
    "nextReview": "2025-03-28"
  }
}
